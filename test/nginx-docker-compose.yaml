version: "3.2"

services:
  nginx:
    # https://github.com/macbre/docker-nginx-brotli#quic--http3-support
    image: macbre/nginx-brotli:1.19.6-http3
    ports:
      - "8888:80"
      - "8889:443/tcp"
      - "8889:443/udp" # for quic
    volumes:
      # see nginx-static.conf
      - "./webroot:/static"
      - "./nginx-static.conf:/etc/nginx/conf.d/nginx-static.conf"
      - "./ssl-certificate/localhost.crt:/etc/nginx/localhost.crt"
      - "./ssl-certificate/localhost.key:/etc/nginx/localhost.key"
